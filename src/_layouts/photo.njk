---
layout: page
---

{% set photoPath = 'src' + page.filePathStem | replace('index', '') + photo %}

{% from "macros/css.njk" import css %}
{{ css('components/photo', build.env) }}

<div class="photo{% if dimensions.width < dimensions.height %} portrait{% endif %}" style="--ratio: {{ dimensions.width / dimensions.height }}">
  <header>
    <ul class="breadcrumb">
      <li><a href="/">Home</a></li>
    </ul>
    <h1>{{ title }}</h1>
  </header>

  <img src="{{ file }}" class="image" alt="{{ title }}" width="{{ dimensions.width }}" height="{{ dimensions.height }}" />

  <div class="description">
    {{ content | safe }}
  </div>

  <div class="meta">
    <ul class="exif">
      <li class="date icon icon--date"><time class="dt-published" datetime="{{ date | date("YYYY-MM-DD") }}">{{ date | date("Do MMMM YYYY") }}</time></li>
      <li class="gear icon icon--camera">{{ gear.make }} {{ gear.model }}</li>
      {% if settings.focal_length or gear.lens %}
        <li class="lens icon icon--focal-length">
          {% if gear.lens %}{{ gear.lens }}<br />{% endif %}
          {{ settings.focal_length }} mm
          {% if settings.focal_length_35mm %} (eq {{ settings.focal_length_35mm }} mm){% endif %}
        </li>
      {% endif %}
      {% if settings.iso %}<li class="iso icon icon--iso"><span>ISO {{ settings.iso }}</span></li>{% endif %}
      {% if settings.aperture %}<li class="aperture icon icon--aperture"><span>ƒ/{{ settings.aperture }}</span></li>{% endif %}
      {% if settings.shutter_speed %}<li class="shutter_speed icon icon--shutter_speed"><span>{{ settings.shutter_speed }} s</span></li>{% endif %}
    </ul>
    <div class="geo">
      {% if geo.latitude and geo.longitude %}
        <div id="map" data-latitude="{{ geo.latitude }}" data-longitude="{{ geo.longitude }}">
          <noscript>
            <img src="https://api.mapbox.com/styles/v1/nhoizey/cjese953v0peh2spcgq64caff/static/url-https%3A%2F%2Fnicolas-hoizey.photo%2Fui%2Fimages%2Fcamera.png({{ geo.longitude }}%2C{{ geo.latitude }})/{{ geo.longitude }},{{ geo.latitude }},5/300x200?access_token={{ env.MAPBOX_ACCESS_TOKEN }}" crossorigin="anonymous" width="300" height="200" />
          </noscript>
        </div>
        {% if geo.city and geo.country %}<p>{{ geo.city }}, {{ geo.country }}</p>{% endif %}
      {% endif %}
    </div>
  </div>
  {% if tags %}<p class="tags icon icon--tag">{{ tags | join(", ") }}</p>{% endif %}
</div>

  {#
  Load Mapbox only in modern browsers
  https://web.dev/publish-modern-javascript/#rollup
  #}
  {% if build.env == 'production' %}
    <script defer type="module" src="/ui/js/{{ hashes_photo['assets/js/photo.js']}}"></script>
  {% else %}
    <script defer type="module" src="/ui/js/photo-es.js"></script>
  {% endif %}
